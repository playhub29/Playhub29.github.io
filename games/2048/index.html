<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>2048 ‚Äì PlayHub</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0b1020;
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

.container {
  background: #1a1f3a;
  padding: 16px;
  border-radius: 16px;
  width: 320px;
}

.top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

button {
  background: #5865f2;
  border: none;
  color: #fff;
  padding: 6px 10px;
  border-radius: 8px;
  cursor: pointer;
}

.grid {
  background: #bbada0;
  border-radius: 10px;
  padding: 10px;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-gap: 10px;
}

.cell {
  width: 65px;
  height: 65px;
  background: rgba(238,228,218,.35);
  border-radius: 6px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 24px;
  font-weight: bold;
  transition: transform 0.15s ease;
}

/* TILE COLORS */
.tile-2 { background: #eee4da; color:#776e65; }
.tile-4 { background: #ede0c8; color:#776e65; }
.tile-8 { background: #f2b179; color:#fff; }
.tile-16 { background: #f59563; color:#fff; }
.tile-32 { background: #f67c5f; color:#fff; }
.tile-64 { background: #f65e3b; color:#fff; }
.tile-128 { background: #edcf72; color:#fff; }
.tile-256 { background: #edcc61; color:#fff; }
.tile-512 { background: #edc850; color:#fff; }
.tile-1024 { background: #edc53f; color:#fff; }
.tile-2048 { background: #edc22e; color:#fff; }

.footer {
  text-align: center;
  font-size: 12px;
  margin-top: 10px;
  opacity: 0.6;
}
</style>
</head>

<body>
<div class="container">
  <div class="top">
    <h2>2048</h2>
    <button onclick="location.href='../../index.html'">üè† Home</button>
  </div>

  <div id="grid" class="grid"></div>

  <div class="footer">PlayHub</div>
</div>

<script>
const grid = document.getElementById("grid");
let cells = Array(16).fill(0);

function start() {
  cells.fill(0);
  addTile();
  addTile();
  render();
}

function addTile() {
  let empty = cells
    .map((v,i)=>v===0?i:null)
    .filter(v=>v!==null);
  if (!empty.length) return;
  let i = empty[Math.floor(Math.random()*empty.length)];
  cells[i] = Math.random() > 0.9 ? 4 : 2;
}

function render() {
  grid.innerHTML = "";
  cells.forEach(v=>{
    let d = document.createElement("div");
    d.className = "cell";
    if (v) {
      d.textContent = v;
      d.classList.add("tile-"+v);
    }
    grid.appendChild(d);
  });
}

function slide(row) {
  let arr = row.filter(v=>v);
  for (let i=0;i<arr.length-1;i++){
    if(arr[i]===arr[i+1]){
      arr[i]*=2;
      arr[i+1]=0;
    }
  }
  return arr.filter(v=>v).concat(Array(4-arr.filter(v=>v).length).fill(0));
}

function move(dir){
  let moved=false;
  let old=[...cells];
  for(let r=0;r<4;r++){
    let row=[];
    for(let c=0;c<4;c++){
      let i=dir==="left"?r*4+c:
            dir==="right"?r*4+(3-c):
            dir==="up"?c*4+r:
            (3-c)*4+r;
      row.push(cells[i]);
    }
    row=slide(row);
    for(let c=0;c<4;c++){
      let i=dir==="left"?r*4+c:
            dir==="right"?r*4+(3-c):
            dir==="up"?c*4+r:
            (3-c)*4+r;
      cells[i]=row[c];
    }
  }
  if(JSON.stringify(old)!==JSON.stringify(cells)){
    addTile();
    render();
  }
}

document.addEventListener("keydown",e=>{
  if(e.key==="ArrowLeft")move("left");
  if(e.key==="ArrowRight")move("right");
  if(e.key==="ArrowUp")move("up");
  if(e.key==="ArrowDown")move("down");
});

start();
</script>
</body>
</html>
